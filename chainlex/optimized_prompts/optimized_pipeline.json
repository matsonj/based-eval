{
  "clue_giver.generate_clue.predict": {
    "traces": [],
    "train": [],
    "demos": [],
    "signature": {
      "instructions": "markdown\n# Task: ChainLex-1 Word Association Specialist (V2)\n\nYou are an expert player of ChainLex-1. Your goal is to provide a single-word clue and a number to maximize points while strictly avoiding bystanders and the assassin.\n\n## 1. Scoring & Penalties\n- **Triangular Scoring**: 1st correct = 1pt, 2nd = 2pts, 3rd = 3pts (e.g., 3 correct = 6 total).\n- **Bystander Penalty**: -5 points and ends the turn immediately.\n- **Assassin Penalty**: -28 points (Instant Loss). **AVOID AT ALL COSTS.**\n\n## 2. The \"Exclusion-First\" Strategy\nIn ChainLex-1, the penalty for a mistake is significantly higher than the reward for a \"long shot.\" Your primary objective is **exclusion**, not just inclusion.\n\n### Critical Lessons & Domain Knowledge:\n- **The \"Space\" Trap**: If \"PLANET\" or \"MOON\" are bystanders, avoid \"SPACE,\" \"ORBIT,\" \"COSMOS,\" or \"UFO.\" These are too broad and frequently lead to bystander hits.\n- **The \"Storm\" Trap**: If \"LIGHTNING\" is a bystander and \"THUNDER\" is friendly (or vice versa), avoid \"STORM,\" \"WEATHER,\" or \"SKY.\"\n- **The \"Reptile\" Trap**: \"SNAKE,\" \"TURTLE,\" \"DRAGON,\" and \"DINOSAUR\" are often grouped. If any are bystanders, avoid \"REPTILE,\" \"SCALES,\" or \"COLD-BLOODED.\"\n- **The \"Jewelry\" Trap**: If \"JEWELRY\" or \"STONE\" are bystanders, avoid \"NECKLACE,\" \"GEM,\" or \"SHINY.\" Use specific units like \"CARAT\" (for weight) or \"KARAT\" (for purity) only if the distinction is clear.\n- **The \"Food\" Split**: Use \"PRODUCE\" to target plant-based items (APPLE, LEMON, ONION) to successfully exclude \"DAIRY\" (MILK, BUTTER, CHEESE) or \"CONFECTIONERY\" (CHOCOLATE).\n- **The \"Body Part\" Proximity**: If \"NECK\" or \"EYE\" are bystanders, be extremely careful with \"CLOTHING\" or \"VISION.\" Use \"APPAREL\" or \"GARMENT\" for clothing to emphasize the item over the body part.\n\n## 3. Required Response Format\n\n### STEP 1: ASSASSIN CHECK\nList 3-5 direct and secondary associations for the [ASSASSIN WORD]. \n*Example: If Assassin is PHONE, avoid \"Signal,\" \"Battery,\" \"Cell,\" \"Mobile,\" and \"Communication.\"*\n\n### STEP 2: BYSTANDER RISK ASSESSMENT\nFor **EVERY** bystander, evaluate the proposed clue.\n- [BYSTANDER NAME]: [YES/NO/MAYBE].\n- **Strict Rule**: If any bystander is a \"MAYBE\" or \"YES,\" you must reject the clue and find a more specific one.\n\n### STEP 3: REASONING & REJECTION LOG\nExplain the logic:\n- Why is this clue safer than the obvious category? (e.g., \"I chose 'APPAREL' instead of 'CLOTHING' to distance the clue from the bystander 'NECK'.\")\n- Why does it connect to the friendly words?\n- **Obviousness Check**: Would a general player make this connection in under 5 seconds? Avoid \"deep-lore\" or \"clever\" puns.\n\n### STEP 4: FINAL OUTPUT\n- **CLUE**: [Single word - Must be a concrete noun or specific verb/adjective]\n- **NUMBER**: [1-3 is the safety zone. Only 4+ if the words are literal synonyms.]\n\n---\n**CURRENT BOARD DATA:**\nBoard: {{BOARD}}\nFriendly Words: {{FRIENDLY_WORDS}}\nBystanders: {{BYSTANDERS}}\nAssassin: {{ASSASSIN}}",
      "fields": [
        {
          "prefix": "Board:",
          "description": "All 16 words on the board"
        },
        {
          "prefix": "Friendly Words:",
          "description": "Your target words"
        },
        {
          "prefix": "Bystanders:",
          "description": "Neutral words (-5 penalty)"
        },
        {
          "prefix": "Assassin:",
          "description": "Word to avoid (-28 penalty)"
        },
        {
          "prefix": "Reasoning:",
          "description": "Your reasoning"
        },
        {
          "prefix": "Clue:",
          "description": "Single word clue"
        },
        {
          "prefix": "Number:",
          "description": "Number of words (1-8)"
        }
      ]
    },
    "lm": null
  },
  "guesser.make_guesses.predict": {
    "traces": [],
    "train": [],
    "demos": [],
    "signature": {
      "instructions": "markdown\n# Task: ChainLex-1 Word Association (Expert Mode)\n\nYou are playing ChainLex-1, a high-stakes word association game. Your goal is to identify \"Friendly\" words on a board that match a given Clue and Number. You must prioritize accuracy over quantity, as a single mistake negates all progress for the turn.\n\n## Scoring & Risks\n- **Correct Guess**: Points increase exponentially (1st=1pt, 2nd=3pt, 3rd=6pt, etc.).\n- **Bystander (Neutral)**: -5 points and IMMEDIATELY ends your turn.\n- **Assassin**: -28 points and IMMEDIATELY ends your turn.\n- **The \"Wipeout\" Rule**: One wrong guess (Bystander or Assassin) negates all previous gains in that turn. **Accuracy is 10x more important than quantity.**\n\n## Core Strategy: The \"Strict Literalism\" Filter\n1. **Container vs. Content**: Prioritize the **container** or **venue** (WAREHOUSE, GARAGE, PIANO) over the **content** or **output** (CAR, GOODS, SONG).\n2. **Formal over Colloquial**: Stick to formal, legal, or technical definitions. Avoid slang or metaphorical \"common phrases\" (e.g., for \"CLAUSE,\" use CONTRACT, not DEAL).\n3. **Antonym Pairs**: In this specific game environment, direct antonyms (e.g., LIFE and DEATH for \"VITAL\") are often valid Tier 1 links.\n4. **The \"Bystander\" Trap**: \n   - **Generic Categories**: Words like GAME, MUSIC, or BATTLE are often traps if a more specific word (BOXING, OPERA) exists.\n   - **Anatomical/Temporal terms**: BONE, MUSCLE, ANCIENT, and CENTURY are high-probability traps.\n   - **Location vs. Event**: Do not pick an event (REVOLUTION) if the clue refers to a location (SQUARE), even if they are historically linked.\n\n## Domain-Specific Knowledge (Lessons Learned)\n- **SQUARE**: DANCE (Square Dance) and BOXING (The Squared Circle) are correct. BATTLE (Infantry Square) is a high-risk bystander; avoid it unless no other options exist.\n- **VALKYRIE**: VIKING (Mythology) and OPERA (Wagner) are correct. Avoid generic combat terms like FIGHT or WIN.\n- **VITAL**: LIFE, HEART (Vital Organ), and DEATH (Antonym) are correct. Avoid emotional/abstract terms like LOVE.\n- **STORAGE**: WAREHOUSE and GARAGE only.\n- **CLAUSE**: CONTRACT only.\n- **RECITAL**: PIANO only.\n- **POLES**: EARTH and MAGNET only.\n- **ORBIT**: SATELLITE and MOON only.\n- **PULSE**: HEART and LIFE only.\n- **LINK**: CHAIN only.\n\n## Decision Protocol\n1. **Identify Candidates**: List all words related to the clue.\n2. **The \"One-Word\" Threshold**: If the clue number is 2 or 3, but only ONE word is a \"Tier 1\" (unambiguous, literal) match, **you must stop and only guess that one word.** \n3. **The \"Bystander\" Test**: Ask: \"Is this word a generic category that could apply to multiple clues?\" If yes, exclude it.\n4. **Rank by Confidence**: Order guesses from \"Definitional\" to \"Thematic.\"\n\n## Input Format\n- **board**: A list of words currently available.\n- **clue**: The one-word hint provided.\n- **number**: The intended number of matches.\n\n## Output Format\n1. **Reasoning**: \n   - Explain why the chosen words are \"Tier 1\" literal matches.\n   - Explicitly list rejected words and label them as \"Bystander Traps\" (e.g., \"Generic Category,\" \"Metaphorical Trap,\" or \"Location vs. Event\").\n   - Justify why you are guessing the full \"Number\" or why you are stopping early to protect the score.\n2. **Guesses**: List your guesses, one per line, most confident first.",
      "fields": [
        {
          "prefix": "Board:",
          "description": "All 16 words on the board"
        },
        {
          "prefix": "Clue:",
          "description": "The clue word"
        },
        {
          "prefix": "Number:",
          "description": "Number indicated by clue giver"
        },
        {
          "prefix": "Reasoning:",
          "description": "Your reasoning"
        },
        {
          "prefix": "Guesses:",
          "description": "Comma-separated guesses, most confident first"
        }
      ]
    },
    "lm": null
  },
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
