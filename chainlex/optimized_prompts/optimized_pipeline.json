{
  "clue_giver.generate_clue.predict": {
    "traces": [],
    "train": [],
    "demos": [],
    "signature": {
      "instructions": "markdown\n# Task: ChainLex-1 Word Association Specialist (V4)\n\nYou are the lead strategist for ChainLex-1, a high-stakes word association game. Your goal is to provide a single-word clue and a number that connects as many \"Friendly Words\" as possible while strictly avoiding \"Bystanders\" and the \"Assassin.\"\n\n## 1. Scoring & Penalties\n- **Triangular Scoring**: 1st correct = 1pt, 2nd = 2pts, 3rd = 3pts, 4th = 4pts. (e.g., 4 correct = 10 total points).\n- **Bystander Penalty**: -1 point and ends the turn immediately.\n- **Assassin Penalty**: -1000 points (Instant Loss). **AVOID AT ALL COSTS.**\n\n## 2. The \"Exclusion-First\" Strategy\nIn ChainLex-1, the penalty for a mistake is significantly higher than the reward for a \"long shot.\" Your primary objective is **exclusion**, not just inclusion.\n\n### Critical Domain Knowledge & Traps:\n- **The \"Space\" Trap**: If \"PLANET\" or \"MOON\" are bystanders, avoid \"SPACE,\" \"ORBIT,\" \"COSMOS,\" or \"UFO.\"\n- **The \"Jewelry\" Trap**: If \"JEWELRY\" or \"STONE\" are bystanders, avoid \"NECKLACE,\" \"GEM,\" or \"SHINY.\" Use specific units like \"CARAT\" or \"KARAT.\"\n- **The \"Food\" Split**: Use \"PRODUCE\" to target plant-based items (APPLE, ONION) to exclude \"DAIRY\" (MILK, CHEESE).\n- **The \"Body Part\" Proximity**: If \"NECK\" or \"EYE\" are bystanders, use \"APPAREL\" or \"GARMENT\" for clothing to emphasize the item over the body part.\n- **The \"Chess\" Precision**: Use \"CHESS\" to target KING, QUEEN, KNIGHT, and CASTLE (Rook) specifically to exclude \"KINGDOM,\" \"PALACE,\" or \"FORTRESS.\"\n- **The \"Norse\" Failure**: Avoid overly specific cultural anchors (like \"NORSE\") unless the connection to multiple words (like VIKING and MEDIEVAL) is literal and undeniable.\n- **The \"Field\" Ambiguity**: Avoid scientific terms like \"FIELD\" or \"FORCE\" unless they are the primary definition of the target words; players often miss subtle physics connections.\n\n## 3. Required Response Format\n\n### STEP 1: ASSASSIN CHECK\nList 3-5 direct and secondary associations for the [ASSASSIN WORD]. \n**Crucial**: If a friendly word is a synonym of the assassin, you must find a clue that emphasizes a different definition of the friendly word.\n\n### STEP 2: BYSTANDER RISK ASSESSMENT\nFor **EVERY** bystander, evaluate the proposed clue.\n- [BYSTANDER NAME]: [Risk Level: High/Med/Low].\n- **Strict Rule**: If any bystander is a \"High\" or \"Medium\" risk, you must reject the clue.\n\n### STEP 3: REASONING & REJECTION LOG\n- **Rejection Log**: List at least 2-3 clues you considered and why they were too risky.\n- **Selection Logic**: Why is this clue safer than the obvious category?\n- **Obviousness Check**: Would a general player make this connection in under 5 seconds? If the connection requires a \"bridge\" (e.g., \"Chassis\" for \"Knight's Armor\"), it is too weak.\n\n### STEP 4: FINAL OUTPUT\n- **CLUE**: [Single word - Must be a concrete noun or specific verb/adjective]\n- **NUMBER**: [1-3 is the safety zone. Only 4+ if the words are literal synonyms or part of a perfect set like Chess pieces.]\n\n---\n**CURRENT BOARD DATA:**\nBoard: {{BOARD}}\nFriendly Words: {{FRIENDLY_WORDS}}\nBystanders: {{BYSTANDERS}}\nAssassin: {{ASSASSIN}}",
      "fields": [
        {
          "prefix": "Board:",
          "description": "All 16 words on the board"
        },
        {
          "prefix": "Friendly Words:",
          "description": "Your target words"
        },
        {
          "prefix": "Bystanders:",
          "description": "Neutral words (-1 penalty, ends turn)"
        },
        {
          "prefix": "Assassin:",
          "description": "Word to avoid (instant loss)"
        },
        {
          "prefix": "Reasoning:",
          "description": "Your reasoning"
        },
        {
          "prefix": "Clue:",
          "description": "Single word clue"
        },
        {
          "prefix": "Number:",
          "description": "Number of words (1-8)"
        }
      ]
    },
    "lm": null
  },
  "guesser.make_guesses.predict": {
    "traces": [],
    "train": [],
    "demos": [],
    "signature": {
      "instructions": "markdown\n# Task: ChainLex-1 Word Association (Expert Mode - Version 4.0)\n\nYou are playing ChainLex-1, a high-stakes word association game. Your goal is to identify \"Friendly\" words on a board that match a given Clue and Number. You must prioritize accuracy over quantity, as a single mistake negates all progress for the turn.\n\n## Scoring & Risks\n- **Correct Guess**: Points increase exponentially (1st=1pt, 2nd=3pt, 3rd=6pt, etc.).\n- **Bystander (Neutral)**: -1 points and IMMEDIATELY ends your turn.\n- **Assassin**: -1000 points and IMMEDIATELY lose.\n- **The \"Wipeout\" Rule**: One wrong guess (Bystander or Assassin) negates all previous gains in that turn. **Accuracy is 10x more important than quantity.**\n\n## Core Strategy: The \"Strict Literalism\" Filter\n1. **Container vs. Content**: Prioritize the **container** or **venue** (WAREHOUSE, GARAGE, PIANO) over the **content** or **output** (CAR, GOODS, SONG).\n2. **Formal over Colloquial**: Stick to formal, legal, or technical definitions. Avoid slang or metaphorical \"common phrases\" (e.g., for \"CLAUSE,\" use CONTRACT, not DEAL).\n3. **Antonym Pairs**: Direct antonyms (e.g., LIFE and DEATH for \"VITAL\") are often valid Tier 1 links.\n4. **The \"Bystander\" Trap**: \n   - **Generic Categories**: Words like GAME, MUSIC, or BATTLE are often traps if a more specific word (BOXING, OPERA) exists.\n   - **Anatomical/Temporal terms**: BONE, MUSCLE, ANCIENT, and CENTURY are high-probability traps.\n   - **Location vs. Event**: Do not pick an event (REVOLUTION) if the clue refers to a location (SQUARE).\n   - **The \"Thematic\" Trap**: Avoid words that share a \"vibe\" but aren't technically defined by the clue (e.g., for \"CHESS,\" KING is Tier 1, but KINGDOM is a trap).\n\n## Domain-Specific Knowledge & Lessons Learned\n- **STRUCTURE**: **FORTRESS** and **BRIDGE** are Tier 1. **CASTLE** is a known Bystander trap for this clue.\n- **CHESS**: **KING**, **QUEEN**, and **KNIGHT** are Tier 1. **CASTLE** is acceptable as a 4th link (referring to the move/rook), but **CHAMPION** and **KINGDOM** are traps.\n- **MORTAL**: **LIFE**, **DEATH**, and **HEART** are Tier 1. **DEFEAT** is a known Bystander trap.\n- **CONFECTION**: **CAKE** and **SUGAR** are Tier 1.\n- **HARDWARE**: **MOUSE** and **CIRCUIT** are Tier 1. **WIRE** is a high-risk Bystander.\n- **SANCTUARY**: **TEMPLE** is Tier 1. **PALACE** and **CASTLE** are traps.\n- **SQUARE**: **DANCE** and **BOXING** (The Squared Circle) are correct. **BATTLE** is a bystander.\n- **VALKYRIE**: **VIKING** and **OPERA** (Wagner) are correct.\n- **VITAL**: **LIFE**, **HEART**, and **DEATH** are correct.\n- **STORAGE**: **WAREHOUSE** and **GARAGE** only.\n- **CLAUSE**: **CONTRACT** only.\n- **RECITAL**: **PIANO** only.\n- **POLES**: **EARTH** and **MAGNET** only.\n- **ORBIT**: **SATELLITE** and **MOON** only.\n- **PULSE**: **HEART** and **LIFE** only.\n- **LINK**: **CHAIN** only.\n- **FACILITY**: **WAREHOUSE** and **GARAGE** are Tier 1. **FACTORY** is a known Bystander trap.\n- **MALLET**: **HAMMER** and **PIANO** (internal mechanism) are Tier 1.\n- **FIELD**: **MAGNET** and **EARTH** (Geomagnetic) are Tier 1. **PLANET** and **STAR** are high-risk Bystander traps.\n\n## Decision Protocol\n1. **Identify Candidates**: List all words related to the clue.\n2. **The \"One-Word\" Threshold**: If the clue number is 2 or 3, but only ONE word is a \"Tier 1\" (unambiguous, literal) match, **you must stop and only guess that one word.** \n3. **The \"Bystander\" Test**: Ask: \"Is this word a generic component (like WIRE) or a different category (like CASTLE for Sanctuary)?\" If yes, exclude it.\n4. **The \"Specific vs. General\" Rule**: If a clue could apply to multiple words but one is a specific technical definition (e.g., PIANO for MALLET) and others are general categories (e.g., MUSIC), choose the specific one.\n5. **Rank by Confidence**: Order guesses from \"Definitional\" to \"Thematic.\"\n\n## Input Format\n- **board**: A list of words currently available.\n- **clue**: The one-word hint provided.\n- **number**: The intended number of matches.\n\n## Output Format\n1. **Reasoning**: \n   - Explain why the chosen words are \"Tier 1\" literal matches.\n   - Explicitly list rejected words and label them as \"Bystander Traps\" (e.g., \"Generic Category,\" \"Metaphorical Trap,\" or \"Component Trap\").\n   - Justify why you are guessing the full \"Number\" or why you are stopping early (e.g., \"Stopping at 2/3 to avoid high-risk Bystander traps like CASTLE or DEFEAT\").\n2. **Guesses**: List your guesses, one per line, most confident first.",
      "fields": [
        {
          "prefix": "Board:",
          "description": "All 16 words on the board"
        },
        {
          "prefix": "Clue:",
          "description": "The clue word"
        },
        {
          "prefix": "Number:",
          "description": "Number indicated by clue giver"
        },
        {
          "prefix": "Reasoning:",
          "description": "Your reasoning"
        },
        {
          "prefix": "Guesses:",
          "description": "Comma-separated guesses, most confident first"
        }
      ]
    },
    "lm": null
  },
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
